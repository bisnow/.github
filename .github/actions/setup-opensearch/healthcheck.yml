name: OpenSearch Health Check
description: Wait for OpenSearch to be healthy and ready

inputs:
  container-name:
    description: Container name
    required: false
    default: 'opensearch-test'

runs:
  using: composite
  steps:
    - name: Wait for OpenSearch
      shell: bash
      run: |
        timeout 60 sh -c 'until docker inspect --format="{{.State.Health.Status}}" ${{ inputs.container-name }} | grep -q healthy; do sleep 2; done'
        echo "âœ“ OpenSearch is healthy"
